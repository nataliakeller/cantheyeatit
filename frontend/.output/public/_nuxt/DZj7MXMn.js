import{r as u,a3 as y,C as r,a6 as b,y as v,B as o,D as d,a5 as _,K as t}from"./B_9B--Gh.js";import{b as F,c as q,d as x,u as C}from"./-qS-kRan.js";import{V as T}from"./BYKkqKro.js";import{V as g,a as w}from"./BiPnY-5w.js";import{V as m,j as N}from"./COzGDrdo.js";import{d as U}from"./C9JAJKl2.js";import"./CypGsUf9.js";const j={__name:"new",setup(k){const f=b(),{foods:V}=C(),i=u(null),n=u(!1),l=u({name:"",description:"",quantity:null,can_eat:!0}),p=[{value:"free",label:"Freely"},{value:"moderate",label:"In moderation"},{value:"rarely",label:"Rarely"},{value:"never",label:"Never"}],c=async()=>{if(i.value.validate())try{const s={...l.value,can_eat:l.value.can_eat?1:0};console.log("Submitting food item:",s),await V.create(s),f.push("/")}catch(s){console.error("Error creating food item:",s),alert("Failed to create food item. Please try again.")}else alert("Please correct the errors in the form.")};return(s,a)=>(v(),y(T,null,{default:r(()=>[o(F,null,{default:r(()=>[o(q,{class:"text-h5"},{default:r(()=>a[5]||(a[5]=[d("Add New Food Item")])),_:1,__:[5]}),o(x,null,{default:r(()=>[o(g,{ref_key:"form",ref:i,modelValue:t(n),"onUpdate:modelValue":a[4]||(a[4]=e=>_(n)?n.value=e:null),"lazy-validation":""},{default:r(()=>[o(m,{modelValue:t(l).name,"onUpdate:modelValue":a[0]||(a[0]=e=>t(l).name=e),label:"Food Name",rules:[e=>!!e||"Food name is required"]},null,8,["modelValue","rules"]),o(m,{modelValue:t(l).description,"onUpdate:modelValue":a[1]||(a[1]=e=>t(l).description=e),label:"Description",rules:[e=>!!e||"Food description is required"]},null,8,["modelValue","rules"]),o(N,{modelValue:t(l).quantity,"onUpdate:modelValue":a[2]||(a[2]=e=>t(l).quantity=e),items:p,"item-title":"label","item-value":"value",label:"Quantity",rules:[e=>!!e||"Please select a quantity"]},null,8,["modelValue","rules"]),o(w,{class:"pb-3",color:"green",modelValue:t(l).can_eat,"onUpdate:modelValue":a[3]||(a[3]=e=>t(l).can_eat=e),inset:"","hide-details":"",label:t(l).can_eat?"They can eat this food":"They should not eat this food"},null,8,["modelValue","label"]),o(U,{onClick:c,color:"primary"},{default:r(()=>a[6]||(a[6]=[d("Submit")])),_:1,__:[6]})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}};export{j as default};
