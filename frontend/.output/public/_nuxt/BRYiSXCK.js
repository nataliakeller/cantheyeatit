import{u as q,b as D,c as K,g as Q,d as J,a as N,e as W}from"./-qS-kRan.js";import{V as z}from"./BYKkqKro.js";import{V as Y}from"./BR29G1Jp.js";import{q as j,f as A,d as v}from"./C9JAJKl2.js";import{Q as $,J as x,k as p,h as P,aU as C,aV as _,r as w,o as H,a3 as V,C as o,y as g,a4 as X,B as i,K as b,x as Z,P as ee,aW as te,D as f,A as m}from"./B_9B--Gh.js";const E=C.reduce((e,l)=>(e[l]={type:[Boolean,String,Number],default:!1},e),{}),B=C.reduce((e,l)=>{const t="offset"+_(l);return e[t]={type:[String,Number],default:null},e},{}),T=C.reduce((e,l)=>{const t="order"+_(l);return e[t]={type:[String,Number],default:null},e},{}),h={col:Object.keys(E),offset:Object.keys(B),order:Object.keys(T)};function ae(e,l,t){let n=e;if(!(t==null||t===!1)){if(l){const a=l.replace(e,"");n+=`-${a}`}return e==="col"&&(n="v-"+n),e==="col"&&(t===""||t===!0)||(n+=`-${t}`),n.toLowerCase()}}const ne=["auto","start","end","center","baseline","stretch"],le=x({cols:{type:[Boolean,String,Number],default:!1},...E,offset:{type:[String,Number],default:null},...B,order:{type:[String,Number],default:null},...T,alignSelf:{type:String,default:null,validator:e=>ne.includes(e)},...A(),...j()},"VCol"),re=$()({name:"VCol",props:le(),setup(e,l){let{slots:t}=l;const n=p(()=>{const a=[];let c;for(c in h)h[c].forEach(d=>{const r=e[d],s=ae(c,d,r);s&&a.push(s)});const y=a.some(d=>d.startsWith("v-col-"));return a.push({"v-col":!y||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),a});return()=>{var a;return P(e.tag,{class:[n.value,e.class],style:e.style},(a=t.default)==null?void 0:a.call(t))}}}),k=["start","end","center"],F=["space-between","space-around","space-evenly"];function S(e,l){return C.reduce((t,n)=>{const a=e+_(n);return t[a]=l(),t},{})}const se=[...k,"baseline","stretch"],O=e=>se.includes(e),U=S("align",()=>({type:String,default:null,validator:O})),oe=[...k,...F],G=e=>oe.includes(e),I=S("justify",()=>({type:String,default:null,validator:G})),ue=[...k,...F,"stretch"],R=e=>ue.includes(e),M=S("alignContent",()=>({type:String,default:null,validator:R})),L={align:Object.keys(U),justify:Object.keys(I),alignContent:Object.keys(M)},ie={align:"align",justify:"justify",alignContent:"align-content"};function ce(e,l,t){let n=ie[e];if(t!=null){if(l){const a=l.replace(e,"");n+=`-${a}`}return n+=`-${t}`,n.toLowerCase()}}const de=x({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:O},...U,justify:{type:String,default:null,validator:G},...I,alignContent:{type:String,default:null,validator:R},...M,...A(),...j()},"VRow"),fe=$()({name:"VRow",props:de(),setup(e,l){let{slots:t}=l;const n=p(()=>{const a=[];let c;for(c in L)L[c].forEach(y=>{const d=e[y],r=ce(c,y,d);r&&a.push(r)});return a.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),a});return()=>{var a;return P(e.tag,{class:["v-row",n.value,e.class],style:e.style},(a=t.default)==null?void 0:a.call(t))}}}),be={__name:"index",setup(e){const{foods:l}=q(),t=w([]),n=w(""),a=[{value:"free",label:"Freely"},{value:"moderate",label:"In moderation"},{value:"rarely",label:"Rarely"},{value:"never",label:"Never"}],c=r=>{const s=a.find(u=>u.value===r);return s?s.label:"Unknown"},y=r=>{switch(r){case"free":return"success";case"moderate":return"warning";case"rarely":return"deep-orange";case"never":return"error";default:return"grey"}},d=async r=>{if(confirm("Are you sure you want to delete this item?"))try{await l.delete(r),t.value=t.value.filter(s=>s.id!==r)}catch(s){console.error(s),n.value="Failed to delete food item."}};return H(async()=>{try{const r=await l.getAll();t.value=r.foods||[]}catch(r){console.error(r),n.value="Failed to load food list."}}),(r,s)=>(g(),V(z,{fluid:""},{default:o(()=>[b(n)?(g(),V(Y,{key:0,type:"error",class:"mb-4",text:b(n)},null,8,["text"])):X("",!0),i(fe,null,{default:o(()=>[(g(!0),Z(ee,null,te(b(t),u=>(g(),V(re,{key:u.id,cols:"12",sm:"6",md:"4",lg:"3"},{default:o(()=>[i(D,{class:"h-100"},{default:o(()=>[i(K,{class:"text-h6"},{default:o(()=>[f(m(u.name),1)]),_:2},1024),i(Q,null,{default:o(()=>[f(m(u.description),1)]),_:2},1024),i(J,null,{default:o(()=>[i(N,{class:"ma-1",color:u.can_eat?"success":"error",variant:"elevated"},{default:o(()=>[f(m(u.can_eat?"They can eat this":"Not recommended"),1)]),_:2},1032,["color"]),i(N,{class:"ma-1",color:y(u.quantity),variant:"outlined"},{default:o(()=>[f(m(c(u.quantity)),1)]),_:2},1032,["color"])]),_:2},1024),i(W,null,{default:o(()=>[i(v,{to:`/food/${u.id}?view`,color:"primary",variant:"text"},{default:o(()=>s[0]||(s[0]=[f(" View Details ")])),_:2,__:[0]},1032,["to"]),i(v,{to:`/food/${u.id}?edit`,color:"secondary",variant:"text"},{default:o(()=>s[1]||(s[1]=[f(" Edit ")])),_:2,__:[1]},1032,["to"]),i(v,{onClick:ye=>d(u.id),color:"error",variant:"text"},{default:o(()=>s[2]||(s[2]=[f(" Delete ")])),_:2,__:[2]},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}))}};export{be as default};
